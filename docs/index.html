<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>R Utility Tool to Extract, Process and Structure Philippines-Specific 
  Datasets for Use in CoMo Consortium Model • comoparams</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="R Utility Tool to Extract, Process and Structure Philippines-Specific 
  Datasets for Use in CoMo Consortium Model">
<meta property="og:description" content="The Oxford Modelling Group for Global Health (OMGH) is developing 
    model structures to estimate the impact of potential mitigation strategies. 
    By changing the input data and parameter values, the models can be adjusted 
    to represent a national or subnational setting. In addition, a user friendly 
    application and interface is being developed to enable widespread utility.
    This package supports in the processing of Philippines-specific input data 
    and parameter values into data structures appropriate for use with the 
    modelling application and/or other packages developed for this purpose.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">comoparams</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/model.html">The Model</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/como-ph/comoparams/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="comoparams-r-utility-tool-to-extract-process-and-structure-philippines-specific-datasets-for-use-in-the-como-consortium-model-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#comoparams-r-utility-tool-to-extract-process-and-structure-philippines-specific-datasets-for-use-in-the-como-consortium-model-" class="anchor"></a>comoparams: R utility tool to extract, process and structure Philippines-specific datasets for use in the CoMo Consortium Model <img src="reference/figures/comoparams.png" width="200px" align="right">
</h1></div>
<!-- badges: start -->

<p>The <strong>Oxford Modelling Group for Global Health (OMGH)</strong> is developing model structures to estimate the impact of potential mitigation strategies. By changing the input data and parameter values, the models can be adjusted to represent a national or subnational setting. In addition, a user friendly application and interface is being developed to enable widespread utility.</p>
<p>The <strong>CoMo Philippines (CoMo-PH)</strong> group is the Philippines country team that is supporting the use of the model specific to the Philippines as part of the <strong>COVID-19 International Modeling Consortium (CoMo Consortium)</strong>.</p>
<p>This R package has been developed by the <strong>CoMo-PH</strong> group to support its efforts in the collection of Philippines-specific and Philippines-appropriate data that will define the parameters used in the <strong>CoMo Consortium Model</strong> as applied to the Philippines. This package facilitates the processing of Philippines national and/or subnational input data and parameter values into data structures appropriate for use with the modelling application and/or other packages developed for the <strong>CoMo Consortium Model</strong>.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p><code>comoparams</code> is in active development and is currently only available to install via <a href="https://github.com/como-ph/comoparams">GitHub</a>:</p>
<div class="sourceCode" id="cb1"><pre class="r"><span class="kw">if</span>(!<span class="fu"><a href="https://rdrr.io/r/base/ns-load.html">requireNamespace</a></span>(<span class="st">"remotes"</span>)) <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"remotes"</span>)
<span class="kw pkg">remotes</span><span class="kw ns">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span>(<span class="st">"como-ph/comoparams"</span>)</pre></div>
<p>To use, load the package:</p>
<div class="sourceCode" id="cb2"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">comoparams</span>)</pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p><code>comoparams</code> currently has three main function sets: 1) <strong>pull data</strong> functions; 2) <strong>calculate</strong> values functions; and, 3) <strong>parameter</strong> setting functions.</p>
<div id="pull-data" class="section level3">
<h3 class="hasAnchor">
<a href="#pull-data" class="anchor"></a>Pull data</h3>
<p><code>comoparams</code> incorporates functions that support the extraction of data relevant to the <strong>CoMo Model</strong> parameters and specific to the Philippines. Currently, these functions allow for 1) pulling of data from the Philippines <a href="https://drive.google.com/drive/folders/10VkiUA8x7TS2jkibhSZK1gmWxFM-EoZP">Department of Health’s official COVID-19 DataDrop</a> repository; 2) pulling of data from the <a href="http://www.psa.gov.ph">Philippines Statistics Authority (PSA)</a> <a href="http://www.psa.gov.ph/content/highlights-philippine-population-2015-census-population">2015 Population Census (2015 POPCEN)</a>; and 3) pulling of population, births and deaths data from the <a href="https://population.un.org/wpp/">World Population Prospects 2019</a>.</p>
<div id="pulling-data-from-the-philippines-department-of-health-covid-19-datadrop" class="section level4">
<h4 class="hasAnchor">
<a href="#pulling-data-from-the-philippines-department-of-health-covid-19-datadrop" class="anchor"></a>Pulling data from the Philippines Department of Health COVID-19 DataDrop</h4>
<p>On the 14th of April 2020, the <a href="https://www.doh.gov.ph">Philippines Department of Health</a> released publicly its data related to COVID-19 initially in Google Sheets format and subsequently as comma-separated value (CSV) files stored in Google Drive. There are 4 functions in <code>comoparams</code> that interacts with the <a href="https://drive.google.com/drive/folders/10VkiUA8x7TS2jkibhSZK1gmWxFM-EoZP">Philippines COVID-19 DataDrop</a>. These functions are wrapper functions utilising the <code>googledrive</code> package functions in R. Each of these functions pulls a specific type of data from the <a href="https://drive.google.com/drive/folders/10VkiUA8x7TS2jkibhSZK1gmWxFM-EoZP">COVID-19 DataDrop</a> repository.</p>
<ul>
<li><p><code>fields</code> - data describing the various fields or variables in the different datasets found in <a href="https://drive.google.com/drive/folders/10VkiUA8x7TS2jkibhSZK1gmWxFM-EoZP">COVID-19 DataDrop</a>.</p></li>
<li><p><code>cases</code> - data on all COVID-19 cases recorded up to the date the specific dataset has been released.</p></li>
<li><p><code>tests</code> - data on tests performed and recorded up to the date the specific dataset has been released.</p></li>
<li><p><code>daily</code> - data on health facilities’ daily COVID-19 specific equipment status.</p></li>
</ul>
<p>The syntax for this set of pull functions has a common prefix of <code>ph_get_</code> followed by the short name of the specific dataset listed above.</p>
<p>All four functions in this set has two arguments - <code>version</code> and <code>date</code>. The <code>version</code> argument is used to specify whether to pull the most recent or current data (specified as <code>current</code>) or to pull previous data (specified as <code>archive</code>). The default is <code>current</code>. The <code>date</code> argument is ignored if <code>version</code> is set to current. However, if <code>version</code> is set to <code>archive</code>, the <code>date</code> argument needs to be specified (in <yyyy-mm-dd> format) which will determine up to which exacted data reports to. This argument will only accept dates starting from 14 April 2020 when <a href="https://drive.google.com/drive/folders/10VkiUA8x7TS2jkibhSZK1gmWxFM-EoZP">COVID-19 DataDrop</a> was launched.</yyyy-mm-dd></p>
<p>The output of these functions is a <code>tibble</code>.</p>
<p>To pull the most current data on <code>cases</code>, we use the function <code><a href="reference/ph_get_cases.html">ph_get_cases()</a></code> as follows:</p>
<div class="sourceCode" id="cb3"><pre class="r"><span class="fu"><a href="reference/ph_get_cases.html">ph_get_cases</a></span>()
<span class="co">#&gt; # A tibble: 29,400 x 21</span>
<span class="co">#&gt;    CaseCode   Age AgeGroup Sex   DateSpecimen DateResultRelea… DateRepConf</span>
<span class="co">#&gt;    &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;        &lt;chr&gt;            &lt;chr&gt;      </span>
<span class="co">#&gt;  1 C299320     39 35 to 39 Male  2020-06-14   2020-06-15       2020-06-19 </span>
<span class="co">#&gt;  2 C724193     47 45 to 49 Male  2020-06-15   2020-06-17       2020-06-19 </span>
<span class="co">#&gt;  3 C183117     80 80+      Fema… 2020-06-16   2020-06-17       2020-06-19 </span>
<span class="co">#&gt;  4 C225853     36 35 to 39 Fema… 2020-06-15   2020-06-16       2020-06-19 </span>
<span class="co">#&gt;  5 C424197     50 50 to 54 Male  2020-06-15   2020-06-17       2020-06-19 </span>
<span class="co">#&gt;  6 C570945     33 30 to 34 Fema… 2020-06-10   2020-06-12       2020-06-19 </span>
<span class="co">#&gt;  7 C974300     48 45 to 49 Male  2020-06-15   2020-06-16       2020-06-19 </span>
<span class="co">#&gt;  8 C876001     31 30 to 34 Male  2020-06-15   2020-06-16       2020-06-19 </span>
<span class="co">#&gt;  9 C734349     37 35 to 39 Male  2020-06-15   2020-06-16       2020-06-19 </span>
<span class="co">#&gt; 10 C455443     28 25 to 29 Male  2020-06-15   2020-06-17       2020-06-19 </span>
<span class="co">#&gt; # … with 29,390 more rows, and 14 more variables: DateDied &lt;chr&gt;,</span>
<span class="co">#&gt; #   DateRecover &lt;chr&gt;, RemovalType &lt;chr&gt;, DateRepRem &lt;chr&gt;, Admitted &lt;chr&gt;,</span>
<span class="co">#&gt; #   RegionRes &lt;chr&gt;, ProvRes &lt;chr&gt;, CityMunRes &lt;chr&gt;, CityMuniPSGC &lt;chr&gt;,</span>
<span class="co">#&gt; #   HealthStatus &lt;chr&gt;, Quarantined &lt;chr&gt;, DateOnset &lt;chr&gt;, Pregnanttab &lt;chr&gt;,</span>
<span class="co">#&gt; #   ValidationStatus &lt;chr&gt;</span></pre></div>
<p>To pull the data on <code>cases</code> for up to 5 May 2020, we use the function <code><a href="reference/ph_get_cases.html">ph_get_cases()</a></code> as follows:</p>
<div class="sourceCode" id="cb4"><pre class="r"><span class="fu"><a href="reference/ph_get_cases.html">ph_get_cases</a></span>(<span class="kw">version</span> <span class="kw">=</span> <span class="st">"archive"</span>, <span class="kw">date</span> <span class="kw">=</span> <span class="st">"2020-05-05"</span>)
<span class="co">#&gt; # A tibble: 9,684 x 18</span>
<span class="co">#&gt;    CaseCode   Age AgeGroup Sex   DateRepConf DateDied DateRecover RemovalType</span>
<span class="co">#&gt;    &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;       &lt;chr&gt;      </span>
<span class="co">#&gt;  1 C100119     31 30 to 34 Male  2020-04-12  ""       ""          ""         </span>
<span class="co">#&gt;  2 C100264     58 55 to 59 Male  2020-03-29  ""       ""          ""         </span>
<span class="co">#&gt;  3 C100648     34 30 to 34 Fema… 2020-04-16  ""       ""          ""         </span>
<span class="co">#&gt;  4 C100660     43 40 to 44 Fema… 2020-04-02  ""       "2020-04-2… ""         </span>
<span class="co">#&gt;  5 C100776     43 40 to 44 Male  2020-04-01  ""       ""          ""         </span>
<span class="co">#&gt;  6 C101015     79 75 to 79 Male  2020-04-03  ""       ""          ""         </span>
<span class="co">#&gt;  7 C101097     33 30 to 34 Male  2020-03-27  ""       ""          ""         </span>
<span class="co">#&gt;  8 C101232     31 30 to 34 Male  2020-03-21  ""       "2020-03-2… "Recovered"</span>
<span class="co">#&gt;  9 C101376     30 30 to 34 Male  2020-04-11  ""       ""          ""         </span>
<span class="co">#&gt; 10 C101483     40 40 to 44 Fema… 2020-04-14  ""       ""          ""         </span>
<span class="co">#&gt; # … with 9,674 more rows, and 10 more variables: DateRepRem &lt;chr&gt;,</span>
<span class="co">#&gt; #   Admitted &lt;chr&gt;, RegionRes &lt;chr&gt;, ProvRes &lt;chr&gt;, CityMunRes &lt;chr&gt;,</span>
<span class="co">#&gt; #   RegionPSGC &lt;chr&gt;, ProvPSGC &lt;chr&gt;, CityMuniPSGC &lt;chr&gt;, HealthStatus &lt;chr&gt;,</span>
<span class="co">#&gt; #   Quarantined &lt;chr&gt;</span></pre></div>
<p>To pull the data on <code>cases</code> for up to 1 May 2020, we use the function <code><a href="reference/ph_get_cases.html">ph_get_cases()</a></code> as follows:</p>
<div class="sourceCode" id="cb5"><pre class="r"><span class="fu"><a href="reference/ph_get_cases.html">ph_get_cases</a></span>(<span class="kw">version</span> <span class="kw">=</span> <span class="st">"archive"</span>, <span class="kw">date</span> <span class="kw">=</span> <span class="st">"2020-05-01"</span>)
<span class="co">#&gt; # A tibble: 8,772 x 18</span>
<span class="co">#&gt;    CaseCode   Age AgeGroup Sex   DateRepConf DateRecover DateDied RemovalType</span>
<span class="co">#&gt;    &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;      </span>
<span class="co">#&gt;  1 C100119     30 30 to 34 Male  12-Apr-20   ""          ""       ""         </span>
<span class="co">#&gt;  2 C100264     57 55 to 59 Male  29-Mar-20   ""          ""       ""         </span>
<span class="co">#&gt;  3 C100648     33 30 to 34 Fema… 16-Apr-20   ""          ""       ""         </span>
<span class="co">#&gt;  4 C100660     42 40 to 44 Fema… 02-Apr-20   ""          ""       ""         </span>
<span class="co">#&gt;  5 C100776     42 40 to 44 Male  01-Apr-20   ""          ""       ""         </span>
<span class="co">#&gt;  6 C101015     79 75 to 79 Male  03-Apr-20   ""          ""       ""         </span>
<span class="co">#&gt;  7 C101097     33 30 to 34 Male  27-Mar-20   ""          ""       ""         </span>
<span class="co">#&gt;  8 C101232     30 30 to 34 Male  21-Mar-20   "25-Mar-20" ""       "Recovered"</span>
<span class="co">#&gt;  9 C101376     29 25 to 29 Male  11-Apr-20   ""          ""       ""         </span>
<span class="co">#&gt; 10 C101483     40 40 to 44 Fema… 14-Apr-20   ""          ""       ""         </span>
<span class="co">#&gt; # … with 8,762 more rows, and 10 more variables: DateRepRem &lt;chr&gt;,</span>
<span class="co">#&gt; #   Admitted &lt;chr&gt;, RegionRes &lt;chr&gt;, ProvRes &lt;chr&gt;, CityMunRes &lt;chr&gt;,</span>
<span class="co">#&gt; #   RegionPSGC &lt;chr&gt;, ProvPSGC &lt;chr&gt;, CityMuniPSGC &lt;chr&gt;, HealthStatus &lt;chr&gt;,</span>
<span class="co">#&gt; #   Quarantined &lt;chr&gt;</span></pre></div>
</div>
<div id="pulling-data-from-the-philippines-statistics-authority-psa-2015-population-census-2015-popcen" class="section level4">
<h4 class="hasAnchor">
<a href="#pulling-data-from-the-philippines-statistics-authority-psa-2015-population-census-2015-popcen" class="anchor"></a>Pulling data from the Philippines Statistics Authority (PSA) 2015 Population Census (2015 POPCEN)</h4>
<p>The last Philippines census was in 2015. A 2020 census was planned but due to the COVID-19 pandemic, this is most likely going to be put on hold. The <a href="http://www.psa.gov.ph">Philippines Statistics Authority (PSA)</a> provides an XLSX file for its updated 2020 population projections based on the 2015 POPCEN. This file is downloadable from the <a href="http://www.psa.gov.ph">PSA</a> website via this <a href="https://psa.gov.ph/sites/default/files/attachments/hsd/pressrelease/Updated%20Population%20Projections%20based%20on%202015%20POPCEN_0.xlsx">link</a>.</p>
<p>A helper function with the same <code>ph_get_</code> prefix is provided by the <code>comoparams</code> package - <code><a href="reference/ph_get_psa2015_pop.html">ph_get_psa2015_pop()</a></code> - which downloads the XLSX file from the <a href="http://www.psa.gov.ph">PSA</a> website, reads the file and then extracts and re-structures the population data in the file to long format (tidy format).</p>
<p>The function can be called as follows:</p>
<div class="sourceCode" id="cb6"><pre class="r"><span class="no">linkToFile</span> <span class="kw">&lt;-</span> <span class="st">"https://psa.gov.ph/sites/default/files/attachments/hsd/pressrelease/Updated%20Population%20Projections%20based%20on%202015%20POPCEN_0.xlsx"</span>

<span class="fu"><a href="reference/ph_get_psa2015_pop.html">ph_get_psa2015_pop</a></span>(<span class="kw">file</span> <span class="kw">=</span> <span class="no">linkToFile</span>)</pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co">#&gt; # A tibble: 87,567 x 6</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="co">#&gt;    area         year age_category    total    male  female</span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="co">#&gt;    &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;           &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co">#&gt;  1 Philippines  2015 0-4          10803297 5582405 5220892</span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="co">#&gt;  2 Philippines  2015 5-9          10827294 5588769 5238525</span></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="co">#&gt;  3 Philippines  2015 10-14        10478834 5397638 5081196</span></span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="co">#&gt;  4 Philippines  2015 15-19        10176450 5194725 4981725</span></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="co">#&gt;  5 Philippines  2015 20-24         9453737 4788812 4664925</span></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="co">#&gt;  6 Philippines  2015 25-29         8348285 4246632 4101653</span></span>
<span id="cb7-10"><a href="#cb7-10"></a><span class="co">#&gt;  7 Philippines  2015 30-34         7331213 3750503 3580710</span></span>
<span id="cb7-11"><a href="#cb7-11"></a><span class="co">#&gt;  8 Philippines  2015 35-39         6732896 3442349 3290547</span></span>
<span id="cb7-12"><a href="#cb7-12"></a><span class="co">#&gt;  9 Philippines  2015 40-44         5840861 2991059 2849802</span></span>
<span id="cb7-13"><a href="#cb7-13"></a><span class="co">#&gt; 10 Philippines  2015 45-49         5276700 2676602 2600098</span></span>
<span id="cb7-14"><a href="#cb7-14"></a><span class="co">#&gt; # … with 87,557 more rows</span></span></code></pre></div>
<p>The main limitation of the PSA population projections based on the 2015 POPCEN is that the age grouping only goes up 85+ whilst the <strong>CoMo Consortium Model</strong> requires population data with an age-structure that goes up to 95+. However, this can potentially be imputed to create the additional older age groupings if needed/wanted.</p>
</div>
<div id="pulling-population-births-and-deaths-data-from-the-world-population-prospects-2019" class="section level4">
<h4 class="hasAnchor">
<a href="#pulling-population-births-and-deaths-data-from-the-world-population-prospects-2019" class="anchor"></a>Pulling population, births and deaths data from the World Population Prospects 2019</h4>
<p>The <a href="https://population.un.org/wpp/">United Nations World Population Prospects 2019</a> provides population projections for 152 countries with a 5-year age grouping structure required by the <strong>CoMo Consortium Model</strong> which are available either as XLSX or as CSV files. The <code>comoparams</code> package provides three functions to extract these datasets. These functions follow the same prefix syntax of <code>ph_get_</code> as the other pull data functions followed by a descriptor of the data that is being pulled. The descriptors used are:</p>
<ul>
<li><p><code>wpp2019_pop</code> - Five-year age group structured population by male and female</p></li>
<li><p><code>wpp2019_births</code> - Number of births by age of mother in 5-year age groups</p></li>
<li><p><code>wpp2019_deaths</code> - Number of deaths by 5-year age groups and by male and female</p></li>
</ul>
<p>To pull the five-year age group structured population, we make a call for the following:</p>
<div class="sourceCode" id="cb8"><pre class="r"><span class="no">linkToFile</span> <span class="kw">&lt;-</span> <span class="st">"https://population.un.org/wpp/Download/Files/1_Indicators%20(Standard)/CSV_FILES/WPP2019_PopulationByAgeSex_Medium.csv"</span>

<span class="fu"><a href="reference/ph_get_wpp2019_pop.html">ph_get_wpp2019_pop</a></span>(<span class="kw">file</span> <span class="kw">=</span> <span class="no">linkToFile</span>, <span class="kw">location</span> <span class="kw">=</span> <span class="st">"Philippines"</span>)</pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co">#&gt; # A tibble: 21 x 6</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="co">#&gt;    area         year age_category    total     male  female</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="co">#&gt;    &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;           &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co">#&gt;  1 Philippines  2020 0-4 y.o.     10616342 5450633  5165709</span></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="co">#&gt;  2 Philippines  2020 5-9 y.o.     11397952 5846072  5551880</span></span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="co">#&gt;  3 Philippines  2020 10-14 y.o.   10906801 5578251  5328550</span></span>
<span id="cb9-7"><a href="#cb9-7"></a><span class="co">#&gt;  4 Philippines  2020 15-19 y.o.   10462894 5407659  5055235</span></span>
<span id="cb9-8"><a href="#cb9-8"></a><span class="co">#&gt;  5 Philippines  2020 20-24 y.o.   10104334 5191755  4912579</span></span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="co">#&gt;  6 Philippines  2020 25-29 y.o.    9479780 4807611  4672169</span></span>
<span id="cb9-10"><a href="#cb9-10"></a><span class="co">#&gt;  7 Philippines  2020 30-34 y.o.    8247197 4166778. 4080419</span></span>
<span id="cb9-11"><a href="#cb9-11"></a><span class="co">#&gt;  8 Philippines  2020 35-39 y.o.    7254730 3644549  3610181</span></span>
<span id="cb9-12"><a href="#cb9-12"></a><span class="co">#&gt;  9 Philippines  2020 40-44 y.o.    6551963 3297341  3254622</span></span>
<span id="cb9-13"><a href="#cb9-13"></a><span class="co">#&gt; 10 Philippines  2020 45-49 y.o.    5759264 2883722  2875542</span></span>
<span id="cb9-14"><a href="#cb9-14"></a><span class="co">#&gt; # … with 11 more rows</span></span></code></pre></div>
<p>To pull the number of births by age of mother in 5-year age groups, we make a call for the following:</p>
<div class="sourceCode" id="cb10"><pre class="r"><span class="no">linkToFile</span> <span class="kw">&lt;-</span> <span class="st">"https://population.un.org/wpp/Download/Files/1_Indicators%20(Standard)/EXCEL_FILES/2_Fertility/WPP2019_FERT_F06_BIRTHS_BY_AGE_OF_MOTHER.xlsx"</span>

<span class="fu"><a href="reference/ph_get_wpp2019_births.html">ph_get_wpp2019_births</a></span>(<span class="kw">file</span> <span class="kw">=</span> <span class="no">linkToFile</span>, <span class="kw">period</span> <span class="kw">=</span> <span class="fl">2019</span>)</pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co">#&gt; # A tibble: 21 x 4</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="co">#&gt;    area        year      age_category   birth</span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="co">#&gt;    &lt;fct&gt;       &lt;fct&gt;     &lt;fct&gt;          &lt;dbl&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co">#&gt;  1 Philippines 2015-2020 0-4 y.o.          NA</span></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="co">#&gt;  2 Philippines 2015-2020 5-9 y.o           NA</span></span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="co">#&gt;  3 Philippines 2015-2020 10-14 y.o.        NA</span></span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="co">#&gt;  4 Philippines 2015-2020 15-19 y.o.   1358136</span></span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="co">#&gt;  5 Philippines 2015-2020 20-24 y.o.   2986917</span></span>
<span id="cb11-9"><a href="#cb11-9"></a><span class="co">#&gt;  6 Philippines 2015-2020 25-29 y.o.   2594038</span></span>
<span id="cb11-10"><a href="#cb11-10"></a><span class="co">#&gt;  7 Philippines 2015-2020 30-34 y.o.   2121630</span></span>
<span id="cb11-11"><a href="#cb11-11"></a><span class="co">#&gt;  8 Philippines 2015-2020 35-39 y.o.   1239266</span></span>
<span id="cb11-12"><a href="#cb11-12"></a><span class="co">#&gt;  9 Philippines 2015-2020 40-44 y.o.    488424</span></span>
<span id="cb11-13"><a href="#cb11-13"></a><span class="co">#&gt; 10 Philippines 2015-2020 45-49 y.o.    100986</span></span>
<span id="cb11-14"><a href="#cb11-14"></a><span class="co">#&gt; # … with 11 more rows</span></span></code></pre></div>
<p>To pull the number of deaths by 5-year age groups and by male and female, we make a call for the following:</p>
<div class="sourceCode" id="cb12"><pre class="r"><span class="no">linkToFile</span> <span class="kw">&lt;-</span> <span class="st">"https://population.un.org/wpp/Download/Files/1_Indicators%20(Standard)/EXCEL_FILES/3_Mortality/WPP2019_MORT_F04_1_DEATHS_BY_AGE_BOTH_SEXES.xlsx"</span>

<span class="fu"><a href="reference/ph_get_wpp2019_deaths.html">ph_get_wpp2019_deaths</a></span>(<span class="kw">file</span> <span class="kw">=</span> <span class="no">linkToFile</span>, <span class="kw">period</span> <span class="kw">=</span> <span class="fl">2019</span>)</pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co">#&gt; # A tibble: 21 x 4</span></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="co">#&gt;    area        year      age_category  death</span></span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt;         &lt;dbl&gt;</span></span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="co">#&gt;  1 Philippines 2015-2020 0-4 y.o.     306206</span></span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="co">#&gt;  2 Philippines 2015-2020 5-9 y.o.      34260</span></span>
<span id="cb13-6"><a href="#cb13-6"></a><span class="co">#&gt;  3 Philippines 2015-2020 10-14 y.o.    28539</span></span>
<span id="cb13-7"><a href="#cb13-7"></a><span class="co">#&gt;  4 Philippines 2015-2020 15-19 y.o.    59008</span></span>
<span id="cb13-8"><a href="#cb13-8"></a><span class="co">#&gt;  5 Philippines 2015-2020 20-24 y.o.    78740</span></span>
<span id="cb13-9"><a href="#cb13-9"></a><span class="co">#&gt;  6 Philippines 2015-2020 25-29 y.o.    77908</span></span>
<span id="cb13-10"><a href="#cb13-10"></a><span class="co">#&gt;  7 Philippines 2015-2020 30-34 y.o.    81415</span></span>
<span id="cb13-11"><a href="#cb13-11"></a><span class="co">#&gt;  8 Philippines 2015-2020 35-39 y.o.    96548</span></span>
<span id="cb13-12"><a href="#cb13-12"></a><span class="co">#&gt;  9 Philippines 2015-2020 40-44 y.o.   121537</span></span>
<span id="cb13-13"><a href="#cb13-13"></a><span class="co">#&gt; 10 Philippines 2015-2020 45-49 y.o.   160660</span></span>
<span id="cb13-14"><a href="#cb13-14"></a><span class="co">#&gt; # … with 11 more rows</span></span></code></pre></div>
</div>
</div>
<div id="calculate-values" class="section level3">
<h3 class="hasAnchor">
<a href="#calculate-values" class="anchor"></a>Calculate values</h3>
<p>For some of the required parameters, further calculation and processing of data is required. Specifically, the cases data needs to be processed into number of cases and number of deaths per day since the start of the COVID-19 pandemic in the Philippines. The cases data also needs to be processed to calculate the infection fatality rate (IFR) and the infection hospitalisation rate (IHR) by 5-year age groups. Two calculate functions are available in <code>comoparams</code> for this purpose. Both functions have the same prefix syntax of <code>ph_calculate_</code> followed by a descriptor for the type of output calculation it will produce - <code>cases</code> for daily cases and deaths since the first reported case in the Philippines and <code>rates</code> for the IFR and IHR output.</p>
<p>The daily cases, deaths and recoveries output can be produced as follows:</p>
<div class="sourceCode" id="cb14"><pre class="r"><span class="fu"><a href="reference/ph_get_cases.html">ph_get_cases</a></span>() <span class="kw">%&gt;%</span> <span class="fu"><a href="reference/ph_calculate_cases.html">ph_calculate_cases</a></span>()
<span class="co">#&gt; # A tibble: 172 x 4</span>
<span class="co">#&gt;    repDate    cases deaths recovered</span>
<span class="co">#&gt;    &lt;date&gt;     &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2020-01-01     0      0         0</span>
<span class="co">#&gt;  2 2020-01-02     0      0         0</span>
<span class="co">#&gt;  3 2020-01-03     0      0         0</span>
<span class="co">#&gt;  4 2020-01-04     0      0         0</span>
<span class="co">#&gt;  5 2020-01-05     0      0         0</span>
<span class="co">#&gt;  6 2020-01-06     0      0         0</span>
<span class="co">#&gt;  7 2020-01-07     0      0         0</span>
<span class="co">#&gt;  8 2020-01-08     0      0         0</span>
<span class="co">#&gt;  9 2020-01-09     0      0         0</span>
<span class="co">#&gt; 10 2020-01-10     0      0         0</span>
<span class="co">#&gt; # … with 162 more rows</span></pre></div>
<p>The IFR and IHR output can be produced as follows:</p>
<div class="sourceCode" id="cb15"><pre class="r"><span class="fu"><a href="reference/ph_get_cases.html">ph_get_cases</a></span>() <span class="kw">%&gt;%</span> <span class="fu"><a href="reference/ph_calculate_rates.html">ph_calculate_rates</a></span>()
<span class="co">#&gt; # A tibble: 21 x 8</span>
<span class="co">#&gt;    age_category deaths deathsAdmitted admissions cases     ifr    ihr     hfr</span>
<span class="co">#&gt;    &lt;fct&gt;         &lt;dbl&gt;          &lt;dbl&gt;      &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;</span>
<span class="co">#&gt;  1 0-5 y.o.         13              6         83   402 0.0323  0.206  0.0723 </span>
<span class="co">#&gt;  2 5-10 y.o.         3              2         29   331 0.00906 0.0876 0.0690 </span>
<span class="co">#&gt;  3 10-15 y.o.        2              2         35   510 0.00392 0.0686 0.0571 </span>
<span class="co">#&gt;  4 15-20 y.o.        9              9         96   829 0.0109  0.116  0.0938 </span>
<span class="co">#&gt;  5 20-25 y.o.        3              3        323  2386 0.00126 0.135  0.00929</span>
<span class="co">#&gt;  6 25-30 y.o.       20              6        553  3721 0.00537 0.149  0.0108 </span>
<span class="co">#&gt;  7 30-35 y.o.       13              7        641  3830 0.00339 0.167  0.0109 </span>
<span class="co">#&gt;  8 35-40 y.o.       31             18        460  2896 0.0107  0.159  0.0391 </span>
<span class="co">#&gt;  9 40-45 y.o.       50             35        432  2615 0.0191  0.165  0.0810 </span>
<span class="co">#&gt; 10 45-50 y.o.       54             34        488  2497 0.0216  0.195  0.0697 </span>
<span class="co">#&gt; # … with 11 more rows</span></pre></div>
</div>
<div id="parameters-setting" class="section level3">
<h3 class="hasAnchor">
<a href="#parameters-setting" class="anchor"></a>Parameters setting</h3>
<p>The final set of functions in the <code>comoparams</code> package is the <strong>parameters setting</strong> functions. This set contains majority of the functions within <code>comoparams</code> (a total of 19 functions).</p>
<p>The <strong>parameter settings</strong> functions again uses a common prefix syntax of <code>ph_set_</code> followed by the descriptor of the parameter that is being defined or set. This syntax applies to 18 of the 19 functions in the set. The descriptors are:</p>
<table class="table">
<colgroup>
<col width="8%">
<col width="91%">
</colgroup>
<thead><tr class="header">
<th align="left"><strong>Descriptor</strong></th>
<th align="left"><strong>Definition</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><code>cases</code></td>
<td align="left">Set the <em>cases parameters</em> using the <code><a href="reference/ph_calculate_cases.html">ph_calculate_cases()</a></code> function to process, calculate and output the cases data in the appropriate parameters format.</td>
</tr>
<tr class="even">
<td align="left"><code>severe</code></td>
<td align="left">Set the <em>severity-mortality parameters</em> using the <code><a href="reference/ph_calculate_rates.html">ph_calculate_rates()</a></code> function to process, calculate and output the cases data in the appropriate parameters format.</td>
</tr>
<tr class="odd">
<td align="left"><code>population</code></td>
<td align="left">Set the <em>populations parameters</em> using the <code>ph_get_population()</code> function to process and output the population data in the appropriate parameters format.</td>
</tr>
<tr class="even">
<td align="left"><code>general</code></td>
<td align="left">Set the <em>general</em> and <em>country parameters</em>
</td>
</tr>
<tr class="odd">
<td align="left"><code>virus</code></td>
<td align="left">Set the <em>virus parameters</em>
</td>
</tr>
<tr class="even">
<td align="left"><code>hospital</code></td>
<td align="left">Set the <em>hospitalisation parameters</em>
</td>
</tr>
<tr class="odd">
<td align="left"><code>lockdown</code></td>
<td align="left">Set the <em>lockdown intervention parameters</em>
</td>
</tr>
<tr class="even">
<td align="left"><code>isolation</code></td>
<td align="left">Set the <em>self-isolation intervention parameters</em>
</td>
</tr>
<tr class="odd">
<td align="left"><code>distancing</code></td>
<td align="left">Set the <em>social distancing intervention parameters</em>
</td>
</tr>
<tr class="even">
<td align="left"><code>handwashing</code></td>
<td align="left">Set the <em>handwashing intervention parameters</em>
</td>
</tr>
<tr class="odd">
<td align="left"><code>work</code></td>
<td align="left">Set the <em>work from home intervention parameters</em>
</td>
</tr>
<tr class="even">
<td align="left"><code>school</code></td>
<td align="left">Set the <em>schools closure intervention parameters</em>
</td>
</tr>
<tr class="odd">
<td align="left"><code>elderly</code></td>
<td align="left">Set the <em>shielding the elderly intervention parameters</em>
</td>
</tr>
<tr class="even">
<td align="left"><code>travel</code></td>
<td align="left">Set the <em>travel ban intervention parameters</em>
</td>
</tr>
<tr class="odd">
<td align="left"><code>quarantine</code></td>
<td align="left">Set the <em>voluntary home quarantine parameters</em>
</td>
</tr>
<tr class="even">
<td align="left"><code>vaccination</code></td>
<td align="left">Set the <em>vaccination intervention parameters</em>
</td>
</tr>
<tr class="odd">
<td align="left"><code>interventions</code></td>
<td align="left">Set all the <em>intervention parameters</em> using all the single intervention parameter setting functions</td>
</tr>
</tbody>
</table>
<p>The functions with this syntax are interactive command line functions that guide the user through the various parameters required and facilitates the user to input values for the needed parameters. In this set, there is a summary function (<code>ph_set_params</code>) that pulls together all the interactive command line functions and guides the user in specifying all the parameters.</p>
<p>Finally, the 19th function in the parameter setting function set is a function that takes the output of <code><a href="reference/ph_set_params.html">ph_set_params()</a></code> and then converts it into the <strong>CoMo Consortium Model</strong> parameters template format in an XLSX workbook and saves it as an XLSX file in the specified directory.</p>
<div class="sourceCode" id="cb16"><pre class="r"><span class="fu"><a href="reference/ph_create_params.html">ph_create_params</a></span>(<span class="kw">params</span> <span class="kw">=</span> <span class="fu"><a href="reference/ph_set_params.html">ph_set_params</a></span>(), <span class="kw">path</span> <span class="kw">=</span> <span class="st">"."</span>)</pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/como-ph/comoparams/">https://​github.com/​como-ph/​comoparams/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/como-ph/comoparams/issues">https://​github.com/​como-ph/​comoparams/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Ernest Guevarra <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-4887-4415" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Chris Mercado <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-5588-9543" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Robert Medina <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-6647-5453" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="Lifecycle: maturing"></a></li>
<li><a href="https://travis-ci.org/como-ph/comoparams"><img src="https://travis-ci.org/como-ph/comoparams.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://ci.appveyor.com/project/como-ph/comoparams"><img src="https://ci.appveyor.com/api/projects/status/github/como-ph/comoparams?branch=master&amp;svg=true" alt="AppVeyor build status"></a></li>
<li><a href="https://github.com/como-ph/comoparams/actions"><img src="https://github.com/como-ph/comoparams/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://www.codefactor.io/repository/github/como-ph/comoparams"><img src="https://www.codefactor.io/repository/github/como-ph/comoparams/badge" alt="CodeFactor"></a></li>
<li><a href="https://zenodo.org/badge/latestdoi/255850150"><img src="https://zenodo.org/badge/255850150.svg" alt="DOI"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Ernest Guevarra, Chris Mercado, Robert Medina.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
